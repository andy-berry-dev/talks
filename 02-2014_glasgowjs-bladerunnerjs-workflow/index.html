<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<base href="../">

	<title>Glasgow JS - BladeRunnerJS Workflow | Andy Berry - www.andy-berry.co.uk - @andyberry88</title>

	<meta name="description" content="Simplify your JS workflow with BladeRunnerJS ">
	<meta name="author" content="Andy Berry">

	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<link rel="stylesheet" href="reveal.js/css/reveal.min.css">
	<link rel="stylesheet" href="brjs-revealjs-theme/style.css" id="theme">
	<link rel="stylesheet" href="reveal.js/lib/css/zenburn.css">

	<script>
		document.write( '<link rel="stylesheet" href="reveal.js/css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
	</script>

	<!--[if lt IE 9]>
	<script src="reveal.js/lib/js/html5shiv.js"></script>
	<![endif]-->

	<script type="text/javascript">//<![CDATA[
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-10944682-2']);
	_gaq.push(['_trackPageview']);
	(function () {
		var ga = document.createElement('script');
		ga.type = 'text/javascript';
		ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0];
		s.parentNode.insertBefore(ga, s);
	})();
	//]]></script>
</head>
<body>

	<div class="reveal">
		<div class="slides">

<section data-markdown data-background="url('images/glasgowjs-bladerunnerjs-workflow/blade-runner-los-angeles.jpg') bottom no-repeat" data-background-size="100%"><script type="text/template">
	# Simplify your JS Workflow with [BladeRunnerJS](http://bladerunnerjs.org)
</script></section>


<section data-markdown><script type="text/template">
	Andy Berry [@andyberry88](https://twitter.com/andyberry88)

	[www.andy-berry.co.uk](http://www.andy-berry.co.uk)

	<br/>
	<a href="http://www.caplin.com">
		<img src="images/glasgowjs-bladerunnerjs-workflow/caplin-logo-245x37.png" style="max-width: 200px" />
	</a>

	<a href="http://bladerunnerjs.org">
		<img src="images/glasgowjs-bladerunnerjs-workflow/bladerunner-js-white-trans-lrg.png" style="max-width: 450px" />
	</a>

	<aside class="notes"><pre>
	- work for Caplin
		- primary market is financial trading webapps and the supporting back-end services
	- specicially working on project open sourcing BRJS
	</pre></aside>
</script></section>


<section data-markdown><script type="text/template">
	<a href="http://bladerunnerjs.org">
		<img src="images/glasgowjs-bladerunnerjs-workflow/bladerunner-js-white-trans-lrg.png" style="max-width: 50%" />
	</a>

	<blockquote>
		"a development <span class="highlight">toolkit</span> and lightweight <span class="highlight">framework</span> for building modular large-scale HTML5 single page web apps. It consists of a set of <span class="highlight">conventions</span> plus associated <span class="highlight">tools</span> and <span class="highlight">libraries</span> that make it easy to <span class="highlight">develop</span>, <span class="highlight">test</span>, deploy and <span class="highlight">maintain</span> large JavaScript apps"
	</blockquote>

	<br/>
	### Developer toolkit focusing on developer workflow
	### A set of micro libraries for buidling front-end apps

	<aside class="notes"><pre>
		What is BRJS
		toolkit, framework, tools, libraries, conventions, develop, test, maintain
		</pre></aside>
</script></section>


<section>

	<section data-markdown><script type="text/template">
	# Some History
	</script></section>

	<section data-markdown><script type="text/template">
		## Caplin has been creating large scale webapps for the last 15 years
		<video controls data-autoplay>
			<source src="videos/glasgowjs-bladerunnerjs-workflow/trader2.mp4" type="video/mp4">
			<source src="videos/glasgowjs-bladerunnerjs-workflow/trader2.webm" type="video/webm">
			<img src="images/glasgowjs-bladerunnerjs-workflow/trader2.png" />
		</video>

		<aside class="notes"><pre>
		stats:

		- SDK:
		  - ~130,000 LoC
		  - ~95,000 test LoC

		- Example app:
		  - ~50,000 LoC
		  - ~21,000 test LoC
		</pre></aside>
	</script></section>

	<section data-markdown><script type="text/template">
		- SDK:
		  - ~1,000 JavaScript files
		  - ~130,000 LoC
		  - ~650 testfiles
		  - ~95,000 test LoC

		- Example app:
		  - ~425 JavaScript files
		  - ~50,000 LoC
		  - ~200 test files
		  - ~21,000 test LoC

		<aside class="notes"><pre>
		can see were talking a reasonable scale
		</pre></aside>
	</script></section>

	<section data-markdown><script type="text/template">
		# It got messy

		<img src="images/glasgowjs-bladerunnerjs-workflow/spaghetti-baby.png" style="max-width: 450px" />
	</script></section>

	<section data-markdown><script type="text/template">
		- Parts of the codebase were fragile and difficult to maintain
		- Problems when multiple teams were developing new features
		- Complex dependency problems between parts of the app
		- Took along time to setup dev envirionment
		- Needed full stack to test
		- Complex build
		- Slow tests (~8hrs)

		<aside class="notes"><pre>
		- flaky codebase
		- particularly when multiple teams
		- styling changes, utility methods
			- long build, find out very late
		- 2 hours minimum to setup dev envirionment
		- still have to setup external servers
		- *very* slow build
		</pre></aside>
	</script></section>

	<section data-markdown><script type="text/template">
		<img src="images/glasgowjs-bladerunnerjs-workflow/not-fun.png" />

		<aside class="notes"><pre>
		Not fun :-(
		</pre></aside>
	</script></section>

	<section data-markdown><script type="text/template">
		## The solution?
		<br/>
		# BladeRunner <!-- .element: class="fragment" -->

		<aside class="notes"><pre>
			We had to come up with a solution
			We called it BladeRunner
		</pre></aside>
	</script></section>

	<section data-markdown><script type="text/template">
		## Allowed us to solve all the problems we were having
	</script></section>

<!--
	<section data-markdown><script type="text/template">
	### Came up with conventions and tooling to allow us to:
		- Split up the app
		- Well defined APIs between different parts of the app
		- No more fragile code
		- Full suite of tests down to <30mins
		- Streamlined development
		- No build
		- Customer launch time down from 12-18months -> 4 months

		<aside class="notes"><pre>
		In the new world...
		- split up the app into features
		- allowed us to define APIs == loosely couple
		- overhauled testing strategy, MVVM (talk about later)
		</pre></aside>
	</script></section>
-->

</section>

<section>

	<section data-markdown><script type="text/template">
		## "Lots of people have these problems, let's open source it!"
		<br/>
		<img src="images/glasgowjs-bladerunnerjs-workflow/bladerunner-js-white-trans-lrg.png" /> <!-- .element: class="fragment" -->
	</script></section>

	<section data-markdown><script type="text/template">
		## Conventions
		- OO based JS
		- Interfaces
		- Services
		- Seperation business functionality into vertical slices
		- MVVM architecture

		<aside class="notes"><pre>
		- OO based JS
			- every file is a class
			- can extend ane another
		- use of Interfaces
		- interfaces allow services, talk to interface not impl.
			- easily mock services
		- decouple features communicate via services e.g. EventHub
		- vertical slices
			- all assets live with features
		- MVVM - test model and view independently
		</pre></aside>
	</script></section>

	<section data-markdown><script type="text/template">
		## Tooling
		- Tooling 'builds' the app on F5
		- Single files for development, minified bundles for production
		- Bundles used in testing

		<aside class="notes"><pre>
		- build on F5
			 - no more running an entire build
		- model understands app structure & dependencies
		- bundles in JSTD == same bundle for testing
		</pre></aside>
	</script></section>

</section>


<section>

	<section data-markdown><script type="text/template">
		<img src="images/glasgowjs-bladerunnerjs-workflow/feature-dev-workflow.png" />
	</script></section>

	<section data-markdown><script type="text/template">
		# Demo Time

		<img src="images/glasgowjs-bladerunnerjs-workflow/brjs-todo.png" />

		<aside class="notes">
			<a href="/talks/glasgowjs-bladerunnerjs-workflow/demo-notes.html" target="_blank">Demo Notes</a>
		</aside>
		<aside class="notes">  <!-- link relative to reveal.js/plugin/notes/notes.html not the slides page -->
			<a href="../../../02-2014_glasgowjs-bladerunnerjs-workflow/demo-notes.html" target="_blank">Demo Notes</a>
		</aside>
	</script></section>

	<section data-markdown><script type="text/template">
		- Created a blade
		- Developed it in a workbench
		- Tested it
		- Added it to our app
	</script></section>

</section>

<section>

	<section data-markdown><script type="text/template">
		## More cool features
		- WAR and flat file deployment
		- Dependency analysis
		- Theme support
		- i18n support
	</script></section>

	<section data-markdown><script type="text/template">
		## Toolkit Plugin Support
		- Custom commands
		 - Deploy to Heroku etc.
		 - Create app from GitHub
		- New 'bundlers'
		 - Typescript
		 - Coffeescript
		 - LESS
		 - SASS
		 - Automatic linting
		- Custom 'content' plugins
		 - App cache
	</script></section>

	<section data-markdown><script type="text/template">
		# Look Ma&#39; No Config!
		### === Big Win
	</script></section>

</section>


<section>

	<section data-markdown><script type="text/template">
		# So how does BRJS improve my workflow?
	</script></section>


	<section data-markdown><script type="text/template">
		## A Well Structure App Architecture
		<img src="images/glasgowjs-bladerunnerjs-workflow/appOverview.png" />
	</script></section>

	<section data-markdown><script type="text/template">
		## Vertical slices of functionality
		<img src="images/glasgowjs-bladerunnerjs-workflow/asset-structure.png" />
	</script></section>

	<section data-markdown><script type="text/template">
		## Features built and tested in isolation
		<img src="images/glasgowjs-bladerunnerjs-workflow/workbench_v2.png" />
	</script></section>

	<section data-markdown><script type="text/template">
		## And assembled to create an app
		<img src="images/glasgowjs-bladerunnerjs-workflow/caplin-fx-motif.png" />
	</script></section>

</section>


<section>

	<section data-markdown><script type="text/template">
		## The path to 1.0
		- Refining some features after open sourcing
		- Flat file deployment and simplified directory structure coming soon
		- Global install and context aware commands
		- Bladesets and aspects optional
		- More cool stuff!

		<small>BRJS 1.0 Roadmap - [bladerunnerjs.org/docs/roadmap/](bladerunnerjs.org/docs/roadmap/)</small>
	</script></section>

	<section data-markdown><script type="text/template">
		## Have a go

		v0.4 released mid-late Feb

		https://github.com/BladeRunnerJS/brjs/releases

		http://bladerunnerjs.org/docs/use/getting_started/
	</script></section>

	<section data-markdown><script type="text/template">
		## Get involved

		https://github.com/BladeRunnerJS/brjs/

		[@bladerunnerjs]([https://twitter.com/bladerunnerjs)
	</script></section>

</section>


<section data-markdown><script type="text/template">
	## Questions?

	Andy Berry [@andyberry88](https://twitter.com/andyberry88)

	[www.andy-berry.co.uk](http://www.andy-berry.co.uk)

	<a href="http://bladerunnerjs.org">
		<img src="images/glasgowjs-bladerunnerjs-workflow/bladerunner-js-white-trans-lrg.png" style="max-width: 30%;" />
	</a>

	[@bladerunnerjs](https://twitter.com/bladerunnerjs)

	[bladerunnerjs.org](http://bladerunnerjs.org)
</script></section>

		</div> <!-- end .slides -->
	</div> <!-- end .reveal -->

	<script src="reveal.js/lib/js/head.min.js"></script>
	<script src="reveal.js/js/reveal.min.js"></script>

	<script>
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			width: 1280,
			height: 800,

			controls: true,
			progress: true,
			history: true,
			center: true,

			slideNumber: true,

			theme: Reveal.getQueryHash().theme,
			transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

			dependencies: [
				{ src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
				{ src: 'reveal.js/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'reveal.js/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
				{ src: 'reveal.js/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
				{ src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
			]
		});
	</script>

</body>
